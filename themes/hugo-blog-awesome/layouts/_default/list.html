{{- define "main" -}}
<style>
    /* 1. MÀU NỀN VÀ CHỮ CHO Ô BÀI VIẾT */
    :root {
        --card-bg: #f3f4f6; /* Nền xám nhạt cho thẻ */
        --card-border: #e5e7eb;
        --code-bg: #f6f8fa; /* Nền code sáng (giống Github) */
        --code-text: #24292e;
    }

    html.dark {
        --card-bg: #1f2937; /* Nền tối cho thẻ */
        --card-border: #374151;
        --code-bg: #1e1e1e; /* Nền code tối (giống VS Code) */
        --code-text: #d4d4d4;
    }

    /* 2. CHỈNH Ô BÀI VIẾT (CARD) */
    .post-card {
        background-color: var(--card-bg) !important;
        border: 1px solid var(--card-border) !important;
        border-radius: 16px;
        padding: 15px;
        margin-bottom: 20px;
        transition: all 0.3s ease;
    }

    .post-card:hover {
        transform: translateY(-5px);
        border-color: #ff8a00 !important;
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    /* 3. TỰ ĐỘNG ĐỔI MÀU KHUNG CODE THEO CHẾ ĐỘ SÁNG/TỐI */
    pre, code, .chroma {
        background-color: var(--code-bg) !important;
        color: var(--code-text) !important;
        border-radius: 8px;
        transition: background-color 0.3s ease;
    }

    /* Tiêu đề năm */
    .post-year {
        margin-top: 2rem;
        color: #ff8a00;
        border-bottom: 2px solid #da1b60;
        display: inline-block;
    }
</style>

<div class="wrapper list-page">
    <header class="header">
        <h1 class="header-title center" style="background: linear-gradient(to right, #ff8a00, #da1b60); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800;">
            {{ .Title }}
        </h1>
    </header>
    <main class="page-content" aria-label="Content">
        {{ range .Pages.GroupByDate "2006" }}
        {{ $year := .Key }}
        <h2 class="post-year">{{ $year }}</h2>

        <div class="post-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
            {{ range .Pages }}
                {{ partial "postCard" . }}
            {{ end }}
        </div>

        {{ end }}
    </main>
</div>
{{- end -}}